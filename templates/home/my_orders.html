<!DOCTYPE html>
{% extends 'user/base.html' %}
{% block body_block %}
<div class="jumbotron">
    <div class="container">
        <form action="" method="GET">
            <h1>Orders</h1>
            <div style="text-align: right;">
                <select name="level" class='btn btn-light dropdown-toggle'>
                    <option value="All">All</option>
                    <option value="Pending">Pending</option>
                    <option value="Canceled">Canceled</option>
                    <option value="Delivered">Delivered</option>
                </select>
                <input type="submit" value="Filter" class="btn btn-warning">
            </div><hr>
            {% if request.user.is_authenticated %}
        {% if request.user.is_superuser %}
        <div id="nullDiv">
        <div class="text-center">
          <h2 class="mb-3">Hello, {{ request.user.username }} ðŸ‘‘</h2>
          <p class="text-muted">You are logged in as a superuser.</p><br>
          <a class="btn btn-primary" href="/admin/">Go to Admin Dashboard</a>
        </div>
        </div>

        {% else %}
        {% if orders %}
                <div class="row g-4">
          {% for i in orders %}
          <div class="col-md-4 col-lg-3">
            <div class="card shadow-sm h-100">
              <img src="{{ i.product.image.url }}" class="card-img-top" alt="cart" style="height:180px; object-fit:cover;">
              <div class="card-body d-flex flex-column">
                <h5 class="card-title text-truncate">{{ i.product.name|truncatechars:30 }}</h5>
                <p class="fs-5 fw-semibold text-center mt-2">â‚¹ {{ i.price }}</p>
                <p class="text-muted text-center">Status: <span class="fw-bold">{{ i.status }}</span></p>
      
      <div style="display: flex; justify-content: center;align-items: center; gap: 10px;">
              <a href="{% url 'order_dtls' i.order_id %}" class="btn btn-outline-primary mt-auto"><svg xmlns="http://www.w3.org/2000/svg" width="100" height="16" fill="currentColor" class="bi bi-arrow-up-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0z"/>
</svg></a>           
</div>
</div>
</div>
    {% endfor %}
    </div></div>
        {% else %}
        <div id="nullDiv"><div>
      <h3>No Orders placed</h3>
      <br>
      <a class="btn btn-info" href="/">Continue Shopping</a>
      </div></div>
        {% endif %}
        {% endif %}
      {% else %}
        <div id="nullDiv">
          <div>
        <h3>Login to view</h3>
        <a href="{% url 'login' %}" class="btn btn-primary">Login</a>
        </div></div>
       {% endif %}
  </div>

    </div>
</div>
{% endblock %}
